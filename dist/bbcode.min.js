//Copyright (c) 2015 3CSI, Tom Zellman, Dan Pressel and contributors
//
//Permission is hereby granted, free of charge, to any person obtaining a copy of
//this software and associated documentation files (the "Software"), to deal in
//the Software without restriction, including without limitation the rights to
//use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
//of the Software, and to permit persons to whom the Software is furnished to do
//so, subject to the following conditions:
//
//The above copyright notice and this permission notice shall be included in all
//copies or substantial portions of the Software.
//
//THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
//IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
//FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
//AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
//LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
//OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
//SOFTWARE.
!function(e){if("object"==typeof exports)module.exports=e();else if("function"==typeof define&&define.amd)define(e);else{var r;"undefined"!=typeof window?r=window:"undefined"!=typeof global?r=global:"undefined"!=typeof self&&(r=self),r.bbcode=e()}}(function(){var e,r,t;return function a(e,r,t){function n(s,c){if(!r[s]){if(!e[s]){var o=typeof require=="function"&&require;if(!c&&o)return o(s,!0);if(i)return i(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=r[s]={exports:{}};e[s][0].call(l.exports,function(r){var t=e[s][1][r];return n(t?t:r)},l,l.exports,a,e,r,t)}return r[s].exports}var i=typeof require=="function"&&require;for(var s=0;s<t.length;s++)n(t[s]);return n}({1:[function(e,r,t){"use strict";var a="0.4.0",n={showQuotePrefix:true,classPrefix:"bbcode_",mentionPrefix:"@"};var i=a;t.version=i;var s=new RegExp("("+"("+"([A-Za-z]{3,9}:(?:\\/\\/)?)"+"(?:[\\-;:&=\\+\\$,\\w]+@)?[A-Za-z0-9\\.\\-]+[A-Za-z0-9\\-]"+"|"+"(?:www\\.|[\\-;:&=\\+\\$,\\w]+@)"+"[A-Za-z0-9\\.\\-]+[A-Za-z0-9\\-]"+")"+"("+"(?:\\/[\\+~%\\/\\.\\w\\-_]*)?"+"\\??(?:[\\-\\+=&;%@\\.\\w_\\/:]*)"+"#?(?:[\\.\\!\\/\\\\\\w]*)"+")?"+")");function c(e,r,t){var a,n,i,s,c;do{s=false;for(a=0;a<r.length;++a){n=r[a];i=new RegExp(n.e,"gi");c=e.replace(i,n.func.bind(undefined,t));if(c!==e){e=c;s=true}}}while(s);return e}function o(e,r,t,a){return"<li>"+a.trim()+"</li>"}var l=function(e,r){var t=['"',"'"],a,n,i;for(a=0;a<t.length;++a){n=t[a];if(e&&e[0]===n){e=e.slice(1);if(e[e.length-1]!==n){while(r&&r.length){i=r.shift();e+=" "+i;if(i[i.length-1]===n){break}}}e=e.replace(new RegExp("["+n+"]+$"),"");break}}return[e,r]};t.extractQuotedText=l;var f=function(e,r){var t,a,n,i,c={};if(!r){return c}r=r.replace(/\s*[=]\s*/g,"=");t=r.split(/\s+/);while(t.length){n=t.shift();if(!s.exec(n)){i=n.indexOf("=");if(i>0){a=l(n.slice(i+1),t);c[n.slice(0,i).toLowerCase()]=a[0];t=a[1]}else{a=l(n,t);c[e]=a[0];t=a[1]}}else{a=l(n,t);c[e]=a[0];t=a[1]}}return c};t.parseParams=f;function u(e,r,t,a,n){var i,s,l,u,h;t=t.toLowerCase();a=f(t,a||undefined);l=a[t];switch(t){case"quote":h='<div class="'+e.classPrefix+'quote"';for(u in a){i=a[u];if(!l&&(u==="author"||u==="name")){l=i}else if(u!==t){h+=" data-"+u+'="'+i+'"'}}return h+">"+(l?l+" wrote:":e.showQuotePrefix?"Quote:":"")+"<blockquote>"+n+"</blockquote></div>";case"url":return'<a class="'+e.classPrefix+'link" target="_blank" href="'+(l||n)+'">'+n+"</a>";case"email":return'<a class="'+e.classPrefix+'link" target="_blank" href="mailto:'+(l||n)+'">'+n+"</a>";case"anchor":return'<a name="'+(l||a.a||n)+'">'+n+"</a>";case"b":return"<strong>"+n+"</strong>";case"i":return"<em>"+n+"</em>";case"u":return'<span style="text-decoration:underline">'+n+"</span>";case"s":return'<span style="text-decoration:line-through">'+n+"</span>";case"indent":return"<blockquote>"+n+"</blockquote>";case"list":t="ul";s=e.classPrefix+"list";if(l&&/[1Aa]/.test(l)){t="ol";if(/1/.test(l)){s+="_numeric"}else if(/A/.test(l)){s+="_alpha"}else if(/a/.test(l)){s+="_alpha_lower"}}h="<"+t+' class="'+s+'">';h+=c(n,[{e:"\\[([*])\\]([^\r\n\\[\\<]+)",func:o}],e);return h+"</"+t+">";case"code":case"php":case"java":case"javascript":case"cpp":case"ruby":case"python":return'<pre class="'+e.classPrefix+(t==="code"?"":"code_")+t+'">'+n+"</pre>";case"highlight":return'<span class="'+e.classPrefix+t+'">'+n+"</span>";case"html":return n;case"mention":h='<span class="'+e.classPrefix+'mention"';if(l){h+=' data-mention-id="'+l+'"'}return h+">"+(e.mentionPrefix||"")+n+"</span>";case"span":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return"<"+t+">"+n+"</"+t+">";case"youtube":return'<object class="'+e.classPrefix+'video" width="425" height="350"><param name="movie" value="http://www.youtube.com/v/'+n+'"></param><embed src="http://www.youtube.com/v/'+n+'" type="application/x-shockwave-flash" width="425" height="350"></embed></object>';case"gvideo":return'<embed class="'+e.classPrefix+'video" style="width:400px; height:325px;" id="VideoPlayback" type="application/x-shockwave-flash" src="http://video.google.com/googleplayer.swf?docId='+n+'&amp;hl=en">';case"google":return'<a class="'+e.classPrefix+'link" target="_blank" href="http://www.google.com/search?q='+(l||n)+'">'+n+"</a>";case"wikipedia":return'<a class="'+e.classPrefix+'link" target="_blank" href="http://www.wikipedia.org/wiki/'+(l||n)+'">'+n+"</a>";case"img":var p=new RegExp("^(\\d+)x(\\d+)$").exec(l||"");if(!p||p.length!==3){p=new RegExp("^width=(\\d+)\\s+height=(\\d+)$").exec(l||"")}if(p&&p.length===3){a=undefined}h='<img class="'+e.classPrefix+'image" src="'+n+'"';if(p&&p.length===3){h+=' width="'+p[1]+'" height="'+p[2]+'"'}else{for(u in a){i=a[u];if(u==="img"){u="alt"}h+=" "+u+'="'+i+'"'}}return h+"/>"}return r}var h=function(e,r){var t=[],a;r=r||{};for(a in n){if(!Object.prototype.hasOwnProperty.call(r,a)){r[a]=n[a]}}t.push({e:"\\[(\\w+)(?:[= ]([^\\]]+))?]((?:.|[\r\n])*?)\\[/\\1]",func:u});return c(e,t,r)};t.render=h},{}]},{},[1])(1)});//# sourceMappingURL=bbcode.min.map